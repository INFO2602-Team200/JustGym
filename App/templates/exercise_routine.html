
{% extends "layout.html" %}
<head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  
</head>
{% block title %}JustGym{% endblock %}
{% block page %}JustGym App{% endblock %}

{{ super() }}

{% block content %}
 
   <style>
    body{
        height: 100vh;
        /* background-color: pink; */
        /* background-image: url("../static/image/background.jpg"); */
        background-color: black;
    }

    #first_row{
        width: inherit;
    }

    .row{
      opacity: 0.7;
    }

    #categories_preset_myWorkouts{
      background-color: black;
      width: 100%;
    }

    #exercises{
      width: 100%;
    }

    #exampleModal {
    position: fixed;
    top: 10%;
    left: 50%;
    margin-left: -200px;
    width: 400px;
    }

    .modal-backdrop {
    z-index: -1;
    opacity: 100;
  } 

  .logo {
        font-size: 24px;
        font-weight: bold;
        color: white;
    }
    
    .gym {
        color: #FF4857;
        font-style: italic;
        margin-left: -5px;
    }
    
    </style>





    <div class = "row" id = "first_row" style="margin-top: 1%; margin-bottom: 1%; ">
        <div class="col" style="width: 100%">
            <div class="card text-bg-dark" style="width: 80% ;margin: auto; background-color: #FF4857;">
              <h2 class = "card-title" style="text-align: center;">Workout Name: {{workout.workoutName}}</h2>
              <div class="card-text"></div>
                  <b style="text-align: center;">
                    <p style="color: aliceblue;">Estimated Workout Duration: {{workoutDuration}}</p>
                    <p style="color: aliceblue;">Total Exercises: {{numExercises}}</p>
                    <p style="color: aliceblue;">Workout Category : {{workout.category.categoryName}}</p>
                  </b>

                  <h5 class="card-title" style="text-align: center;" > <a href = "/profile">Click here to add/remove Equipment</a></h5>
                  
                  <form id="workout-delete-form" method="DELETE" action="/homes/{{workout.workout_id}}" style = "margin:auto">
                    <button class = "btn btn-primary" style = "width: max-content; margin: auto" type = submit> Delete </button>
                  </form>

              </div>
            </div>
          </div>

    </div>


    <div class = "row" id = "categories_preset_myWorkouts">  
      <div class = "jumbotron" style="color:white; opacity: 0.9">
        
      </div>


    {% for e in exercises %}
    
    <div class="card border-danger mb-3" style="width: 80%; ;text-align: center; margin: auto;">
      <div class="row g-0" >
        <div class="col" style="width:15%;">
          <img style = "width:50%; height:80%" src="{{e.exercise.gifUrl}}" class="img-fluid rounded-start" alt="...">
        </div>
        <div class="col" style="width:85%;">
          <div id = "{{e.exerciseId}}" class="card-body">
            <h5 class="card-title">{{e.exercise.name}}</h5>
            <div class="card-text">
                <div class = "row">
                    <div class = "col" style = "width:33%">
                      <b>Reps: {{e.reps}}</b>
                    </div>

                    <div class = "col" style = "width:33%">
                      <b>Sets: {{e.sets}}</b>
                    </div>

                    <div class = "col" style = "width:33%">
                      <b>Estimated Duration: {{e.duration}} seconds</b>
                    </div>

                    <div class = "row" >
                        <button data-bs-toggle="modal" data-bs-target="#exampleModal2" 
                        style = "margin-top: 7%; width: min-content; margin-left: 42%;" class = "btn btn-primary">Modify Workout
                        </button>
                    </div>
                    
                </div>
            </div>
            
          </div>
        </div>
      </div>
    </div>





    <div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"> 
      <div id="exampleModal2" class="modal-dialog exercise-card-modal-dialog">
        <div class="modal-content">
          <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
              <button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#modify-tab-pane" type="button" role="tab" aria-controls="modify-tab-pane" aria-selected="true">Modify Exercise</button>
            
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#delete-tab-pane" type="button" role="tab" aria-controls="delete-tab-pane" aria-selected="false">Delete Exercise</button>
            </li>
            
          </ul>
          <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade show active" id="modify-tab-pane" role="tabpanel" aria-labelledby="modify-tab" tabindex="0">
              <form id="exercise-update-form" method="POST" action="/home/{{workoutID}}/{{e.exerciseID}}">
            
                <div class="modal-header" style="display: flex; flex-wrap: wrap;">
                  <div style="width: 100%; overflow: hidden; display: flex; flex-wrap: nowrap;">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">Modify Exercise</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div>
                    <div style="padding-top: 10px;">
                      <div class="input-group">
                        <span class="input-group-text" id="basic-addon3">Exercise</span>
    
                        <select class="form-select" name = "exerciseDataId" aria-label="Default select example">
                          <option selected>Select New Workout</option>
                          {% for i in category_exercises%}
                            <option value = "{{i.id}}"> {{i.name}}</option>
                          {% endfor %}
                        </select>
    
                      </div>
                    </div>
                  </div>
                </div>
                
                <div class="modal-body">
                  <div class="row">
                    <div class="col form-check mb-3">
                      <label style="color: black" class="form-label" for="sets">Sets</label>
                      <input class="form-control" type="number" name="sets" id="sets" value="{{e.sets}}" required>
                    </div>
                    <div class="col form-check mb-3">
                      <label style="color: black" class="form-label" for="reps">Reps</label>
                      <input class="form-control" type="number" name="reps" id="reps" value="{{e.reps}}" required>
                    </div>
                  </div>
                  <div class="row">
                    <div class="input-group" style="width: 260px">
                      <label style="color: black" class="form-label" for="duration">Duration</label>
                      <input type="number" class="form-control" name="duration" id="duration" aria-label="duration" aria-describedby="basic-addon2" value="{{e.duration}}" required>
                      <span class="input-group-text" id="basic-addon2">seconds</span>
                    </div>
                  </div>
      
                </div>
                <div class="modal-footer">
                  <button class="btn btn-primary" type="submit">Save changes</button>
                </div>
              </form>
            </div>



            <div class="tab-pane fade" id="delete-tab-pane" role="tabpanel" aria-labelledby="delete-tab" tabindex="0">
              <form id="exercise-update-form" method="GET" action="/home/{{workoutID}}/{{e.exerciseID}}">
            
                <div class="modal-header"style="display: flex; flex-wrap: wrap;">
                  <div style="width: 100%; overflow: hidden; display: flex; flex-wrap: nowrap;">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">Delete Exercise</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div>
                    <div style="padding-top: 10px;">
                      Are you sure that you wish to delete Exercise <b>{{e.exercise.name}}</b>
                    </div>
                  </div>
                </div>
                
                <div class="modal-body">
                  <div class="row">
                    
                  </div>
                  
      
                </div>
                <div class="modal-footer">
                  <button class="btn btn-primary" type="submit">Delete</button>
                </div>
              </form>
            </div>
            
          </div>
          
        </div>
      </div>
    </div>

    
  {% endfor %}
 

</div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    
    <script>

    
      
    </script>
    

{% endblock %}


